{"name":"xiaohebangapk","url":"https://lspxb3.yunvip123.com/#/pages/openLogin/index","showName":"xiaohebangapk","appid":"com.xiaohebangapk.app","icon":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"1.1.2","preview":"Android","platform":["1-1"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"console.log(\n    '%cbuild from PakePlus (Optimized for Android): https://github.com/Sjj1024/PakePlus',\n    'color:orangered;font-weight:bolder'\n);\n\n// 1. 处理链接跳转 (保持原有逻辑，增加安全性)\nconst hookClick = (e) => {\n    const origin = e.target.closest('a');\n    const isBaseTargetBlank = document.querySelector('head base[target=\"_blank\"]');\n    \n    if (!origin) return;\n\n    const href = origin.href;\n    \n    // 处理特殊协议：电话、邮件、地图等\n    if (href && (href.startsWith('tel:') || href.startsWith('mailto:') || href.startsWith('geo:'))) {\n        // 允许默认行为，Tauri/Android 会自动拦截并调用原生应用\n        console.log('Allowing native protocol:', href);\n        return; \n    }\n\n    // 处理外部链接跳转逻辑\n    if (\n        (href && origin.target === '_blank') ||\n        (href && isBaseTargetBlank) ||\n        (href && !href.startsWith(window.location.origin) && !href.startsWith('blob:'))\n    ) {\n        // 防止内部框架死循环，强制在当前页跳转\n        e.preventDefault();\n        console.log('Intercepted link:', href);\n        window.location.href = href;\n    }\n};\n\n// 2. 重写 window.open (增强兼容性)\nconst originalOpen = window.open;\nwindow.open = function (url, target, features) {\n    if (!url) return null;\n    \n    // 如果是特殊协议，尝试直接跳转\n    if (url.startsWith('tel:') || url.startsWith('mailto:')) {\n        window.location.href = url;\n        return null;\n    }\n    \n    // 其他情况强制当前页打开，避免安卓 WebView 弹出无法关闭的新窗口\n    console.log('Intercepted window.open:', url);\n    window.location.href = url;\n    return null; \n};\n\n// 3. 【关键】增强文件输入框 (相册/摄像头) 的触发\n// 某些安卓 WebView 需要显式触发 click 事件才能拉起系统选择器\nconst hookFileInput = () => {\n    document.addEventListener('click', (e) => {\n        const target = e.target;\n        if (target.tagName === 'INPUT' && target.type === 'file') {\n            console.log('File input clicked, ensuring native picker triggers');\n            // 这里不需要额外代码，但保留日志用于调试\n            // Tauri v2 应该会自动处理 accept 属性 (如 accept=\"image/*\" 调用相机)\n        }\n    }, true);\n};\n\n// 初始化\ndocument.addEventListener('click', hookClick, { capture: true });\nhookFileInput();\n\nconsole.log('✅ PakePlus Android Optimization Script Loaded');","isHtml":false,"htmlPath":"","htmlFiles":[],"more":{"windows":{"label":"","title":"","url":"https://lspxb3.yunvip123.com/#/pages/openLogin/index","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":412,"height":915,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"xiaohebangapk","showName":"xiaohebangapk","version":"1.1.2","webUrl":"https://lspxb3.yunvip123.com/#/pages/openLogin/index","id":"com.xiaohebangapk.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"android":{"name":"xiaohebangapk","showName":"xiaohebangapk","version":"1.1.2","webUrl":"https://lspxb3.yunvip123.com/#/pages/openLogin/index","id":"com.xiaohebangapk.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"desktop":{"name":"xiaohebangapk","showName":"xiaohebangapk","version":"1.1.2","id":"com.xiaohebangapk.app.desktop","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","webUrl":"https://lspxb3.yunvip123.com/#/pages/openLogin/index","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}